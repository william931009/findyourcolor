<!DOCTYPE html>
<html lang="zh-Hant">

<head>
    <link rel="icon" type="image/logogood.png" href="image/logogood.png">
    <meta charset="UTF-8">
    <title>è³¼ç‰©è»Š</title>
    <link rel="stylesheet" href="assets/css/cart.css">
</head>

<body>
    <header>
        <nav class="navone">
            <!-- ä¸Šå±¤ï¼šLogo + æ¼¢å ¡æŒ‰éˆ• -->
            <div class="nav-header">
                <a href="index.html"><img src="image/logo.png" class="logo"></a>
                <div class="menu-toggle" onclick="toggleMenu()">â˜°</div>
            </div>

            <!-- ä¸‹å±¤ï¼šå°è¦½åˆ—é€£çµ -->
            <div class="nav-links">
                <a href="index.html">Home</a>
                <a href="product.html">Products</a>
                <a href="red.html">Color</a>
                <a href="loginpage.html">Account</a>
                <a href="cart.html">Cart</a>
            </div>
        </nav>
    </header>
    <div class="container">
        <h1>ğŸ›’ è³¼ç‰©è»Š</h1>
        <div id="cart-items"></div>
        <div class="total-section">
            <strong>ç¸½é‡‘é¡ï¼š<span id="total">NT$0</span></strong>
            <button onclick="clearCart()">æ¸…ç©ºè³¼ç‰©è»Š</button>
        </div>
        <button onclick="checkout()">çµå¸³</button>
    </div>

    <script>
        /*å°è¦½åˆ—*/
        function toggleMenu() {
            const navLinks = document.querySelector('.nav-links');
            navLinks.classList.toggle('active');
        }

        // è¼‰å…¥è³¼ç‰©è»Šå…§å®¹
        function loadCart() {
            const cart = JSON.parse(localStorage.getItem('cart')) || []; //æŠ“å‡ºå„²å­˜çš„è³¼ç‰©è»Šè³‡æ–™
            const cartItems = document.getElementById('cart-items');
            const totalEl = document.getElementById('total'); //é¡¯ç¤ºè³¼ç‰©æ¸…å–®èˆ‡ç¸½é‡‘é¡çš„ä½ç½®
            cartItems.innerHTML = '';

            let total = 0;

            if (cart.length === 0) {
                cartItems.innerHTML = '<p>è³¼ç‰©è»Šæ˜¯ç©ºçš„ã€‚</p>';
                totalEl.textContent = 'NT$0';
                return;
            }
            //æ¯ä¸€ç­†å•†å“éƒ½è¨ˆç®—å°è¨ˆï¼ˆå–®åƒ¹ Ã— æ•¸é‡ï¼‰ä¸¦ç´¯åŠ é€²ç¸½é‡‘é¡
            cart.forEach((item, index) => {
                const subtotal = item.price * item.quantity;
                total += subtotal;

                const div = document.createElement('div'); //å»ºä¸€å€‹æ–°çš„divä¾†ä»£è¡¨é€™ç­†å•†å“
                div.className = 'item';
                div.innerHTML = `
                    <div>
                        <h3>${item.name}</h3>
                        <p>å…‰æ¾¤ï¼š${item.sheen} | é¡è‰²ï¼š${item.color}</p>
                        <p>å–®åƒ¹ï¼šNT$${item.price} Ã— æ•¸é‡ï¼š${item.quantity}</p>
                        <p>å°è¨ˆï¼šNT$${subtotal}</p>
                    </div>
                    <button onclick="removeItem(${index})">ç§»é™¤</button>
                `; //ç”¨ innerHTML æŠŠå•†å“è³‡æ–™æ”¾é€²å»
                cartItems.appendChild(div);  //æŠŠæ¯å€‹å•†å“çš„ <div> åŠ é€²è³¼ç‰©è»Šæ¸…å–®ä¸­
            });

            totalEl.textContent = `NT$${total}`;
        }

        // ç§»é™¤æŸä¸€å€‹å•†å“
        function removeItem(index) {
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            cart.splice(index, 1);
            localStorage.setItem('cart', JSON.stringify(cart));
            loadCart();
        }

        // æ¸…ç©ºè³¼ç‰©è»Š
        function clearCart() {
            if (confirm("ç¢ºå®šè¦æ¸…ç©ºè³¼ç‰©è»Šå—ï¼Ÿ")) {
                localStorage.removeItem('cart');
                loadCart();
            }
        }

        //çµå¸³
        function checkout() {
            if (confirm("å•†å“å·²çµå¸³~~~æ„Ÿè¬æ‚¨çš„è³¼è²·ğŸŠğŸŠ")) {
                localStorage.removeItem('cart');
                loadCart();
            }
        }

        // åˆå§‹åŒ–
        loadCart();
    </script>
    <footer class="footer">
        <div class="footer-container">

            <div class="footer-logo">
                <img src="image/logo.png" alt="Find Your Color" class="footer-logo-img">
            </div>

            <div class="footer-info">
                <h3>å…¬å¸è³‡è¨Š</h3>
                <p>å…¬å¸åç¨±ï¼šFind Your Color</p>
                <p>åœ°å€ï¼šæ¡ƒåœ’å¸‚ä¸­å£¢å€ä¸­åŒ—è·¯200è™Ÿ</p>
                <p>å®¢æœé›»è©±ï¼š01-2345-6789</p>
                <p>å®¢æœæ™‚é–“ï¼šé€±ä¸€è‡³é€±äº” 09:00 - 18:00</p>
                <p>Emailï¼šfindyourcolor@gmail.com</p>
            </div>

            <div class="footer-links">
                <h3>ç¶²ç«™è³‡è¨Š</h3>
                <p><a href="index.html">é¦–é </a></p>
                <p><a href="product.html">å•†å“ä»‹ç´¹</a></p>
                <p><a href="red.html">è‰²å½©åƒè€ƒ</a></p>
                <p><a href="loginpage.html">æœƒå“¡ä¸­å¿ƒ</a></p>
                <p><a href="cart.html">è³¼ç‰©è»Š</a></p>
            </div>

            <div class="footer-map">
                <h3>åœ°åœ–</h3>
                <iframe
                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d976.7125197735551!2d121.24064899742733!3d24.957501625778804!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3468221447a0f021%3A0x2b86d2650bb8bcff!2z5Lit5Y6f5aSn5a24!5e0!3m2!1szh-TW!2stw!4v1749567989730!5m2!1szh-TW!2stw"
                    width="100%" height="200" style="border:0; margin: 20px 0; max-width: 100%;" allowfullscreen=""
                    loading="lazy" referrerpolicy="no-referrer-when-downgrade">
                </iframe>
            </div>

        </div>
    </footer>
</body>

</html>